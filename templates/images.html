{% extends "base.html" %}
{% set title   = "Saved Images" %}
{% set heading = "Saved Images" %}
{% set active_tab = "images" %}

{% block extra_css%}
<link rel="stylesheet" href="/static/css/images.css">
{% endblock %}

{% block extra_js %}
  <script src="/static/js/images.js" defer></script>
{% endblock %}

{% block content %}
<form id="multiDeleteForm">
    <div class="table-container">
        <table class="images-table">
            <thead>
                <tr>
                    <th class="selector-col"><input id="selectAll" type="checkbox" title="–í—ã–±—Ä–∞—Ç—å –≤—Å—ë"></th>
                    <th class="preview-col">–ü—Ä–µ–≤—å—é</th>
                    <th class="name-col">–ò–º—è —Ñ–∞–π–ª–∞</th>
                    <th class="date-col">–î–∞—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏</th>
                    <th>URL</th>
                    <th>–°–∫–∞—á–∞—Ç—å</th>
                    <th style="width:80px;">–£–¥–∞–ª–∏—Ç—å</th>
                </tr>
            </thead>
            <tbody>
            {% if image_files %}
                {% for img in image_files %}
                <tr>
                    <!-- –ß–µ–∫–±–æ–∫—Å -->
                    <td class="selector-col">
                        <input class="row-checkbox"
                               type="checkbox"
                               name="selected_file"
                               value="{{ img.name }}">
                    </td>
                    <!-- –°—Ç–æ–ª–±–µ—Ü —Å –º–∏–Ω–∏-–ø—Ä–µ–≤—å—é -->
                    <td class="preview-col">
                        <img src="/images/{{ img.name }}"
                             alt="{{ img.name }}"
                             class="preview-img">
                    </td>
                    <!-- –ò–º—è —Ñ–∞–π–ª–∞ —Å –∏–∫–æ–Ω–∫–æ–π -->
                    <td class="name-col">
                        <span class="file-icon">üñºÔ∏è</span> {{ img.name }}
                    </td>
                    <!-- –î–∞—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏ -->
                    <td class="uploaded-at"
                        data-utc="{{ img.uploaded_at }}">
                    </td>
                    <!-- URL -->
                    <td class="url">
                        <a href="/images/{{ img.name }}" target="_blank">
                            {{ request.base_url }}images/{{ img.name }}
                        </a>
                    </td>
                    <td style="text-align:center;">
                        <button type="button"
                                class="dl-btn icon-btn"
                                data-name="{{ img.name }}"
                                title="–°–∫–∞—á–∞—Ç—å">‚¨áÔ∏è
                        </button>

                    </td>
                    <!-- –£–¥–∞–ª–µ–Ω–∏–µ -->
                    <td style="text-align:center;">
                            <button type="button"
                                    class="del-btn"
                                    data-name="{{ img.name }}"
                                    title="–£–¥–∞–ª–∏—Ç—å">üóëÔ∏è
                            </button>
                    </td>
                </tr>
                {% endfor %}
            {% else %}
                <tr><td colspan="7" class="empty">–ù–µ—Ç —Ñ–∞–π–ª–æ–≤</td></tr>
            {% endif %}
            </tbody>
        </table>
    </div>

    <div class="multi-delete-controls">
        <button id="downloadSelectedBtn"
                type="button"
                class="btn download-selected" disabled>
            –°–∫–∞—á–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ
    </button>
        <button id="deleteSelectedBtn"
                type="submit"
                class="btn delete-selected" disabled>
            –£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ
        </button>
    </div>

</form>
{% endblock %}